(()=>{"use strict";class e{constructor(e){this.name=e,this.tasks=[]}addTask(e){this.tasks.push(e)}getTasks(){return this.tasks}}class t{constructor(e,t,n,c){this.name=e,this.description=t,this.dueDate=n,this.priority=c}}const n=[],c=document.getElementById("add-project"),s=document.getElementById("new-task"),d=document.getElementById("create-task"),o=document.getElementById("create-project"),r=document.querySelector("#projects"),a=document.querySelector(".list-container ol"),l=document.getElementById("details"),i=document.getElementById("task-editor"),m=document.getElementById("project-editor"),u=document.querySelector(".close-task-modal"),p=document.querySelector(".close-project-modal");function E(e){a.innerHTML="",e.getTasks().forEach((t=>{const n=document.createElement("li");n.innerText=t.name,n.addEventListener("click",(()=>{!function(e,t){const n=document.createElement("h2"),c=document.createElement("button"),s=document.querySelector(".details-inner");c.innerText="Ã—",c.classList.add("close-modal"),s.innerHTML="",n.innerText=`${t.name}`,s.appendChild(c),s.appendChild(n),c.addEventListener("click",(()=>{l.classList.remove("open")}));const d=document.createElement("p");d.setAttribute("id",`${e}`),d.innerHTML=`<strong>Project: </strong> ${e}`,s.appendChild(d);const o=Object.entries(t);for(let e=1;e<o.length;e++){const[t,n]=o[e],c=t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),d=document.createElement("p");d.setAttribute("id",`${c}`),d.innerHTML=`<strong>${c}: </strong> ${n}`,s.appendChild(d)}}(e.name,t),l.classList.add("open")})),a.appendChild(n)}))}u.addEventListener("click",(e=>{e.preventDefault(),i.classList.remove("open")})),p.addEventListener("click",(e=>{e.preventDefault(),m.classList.remove("open")})),c.addEventListener("click",(()=>{m.classList.add("open")})),s.addEventListener("click",(()=>{i.classList.add("open")})),d.addEventListener("click",(e=>{!function(){const e=document.getElementById("task-name").value,c=document.getElementById("task-desc").value,s=document.getElementById("due-date").value,d=document.querySelector("input[name='priority']:checked").value,o=document.querySelector(".selected"),r=document.getElementsByName("task")[0];let a=g;o&&(a=n[o.getAttribute("project-id")]);const l=new t(e,c,s,d);a.addTask(l),o&&E(a),r.reset()}(),e.preventDefault(),i.classList.remove("open")})),o.addEventListener("click",(t=>{!function(){const t=document.createElement("div"),c=document.querySelector("#project-name").value,s=document.createElement("span"),d=document.getElementsByName("project")[0];t.classList.add("project-wrapper"),s.innerText="-",s.setAttribute("id","remove-project"),s.addEventListener("click",(()=>{!function(){const e=document.querySelector(".selected").getAttribute("project-id");document.querySelector(".selected").parentNode.remove(),n.splice(e,1),console.log(n)}()}));const o=new e(c),a=document.createElement("li");a.innerText=c,a.setAttribute("project-id",n.length),a.addEventListener("click",(()=>{const e=document.querySelector(".selected");e&&e.classList.remove("selected"),E(o),a.classList.add("selected")})),t.appendChild(a),t.appendChild(s),r.appendChild(t),n.push(o),d.reset()}(),t.preventDefault(),m.classList.remove("open")}));const g=new e("Default"),h=document.createElement("li");h.innerText="Default",h.setAttribute("project-id",n.length),n.push(g),h.addEventListener("click",(()=>{const e=document.querySelector(".selected");e&&e.classList.remove("selected"),E(g),h.classList.add("selected")})),r.appendChild(h);const k=new t("Example Todo","Description","2024-02-01","High"),v=new t("Example Todo1","Description","2024-02-02","High"),L=new t("Example Todo2","Description","2024-02-03","High"),y=new t("Example Todo3","Description","2024-02-04","High");g.addTask(k),g.addTask(v),g.addTask(L),g.addTask(y),console.log(n)})();