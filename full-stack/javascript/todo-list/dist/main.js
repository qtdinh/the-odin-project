(()=>{"use strict";class e{constructor(e){this.name=e,this.tasks=[]}addTask(e){this.tasks.push(e)}getTasks(){return this.tasks}}class t{constructor(e,t,n,c){this.name=e,this.description=t,this.dueDate=n,this.priority=c}}const n=[],c=document.getElementById("add-project"),s=document.getElementById("new-task"),d=document.getElementById("create-task"),o=document.getElementById("create-project"),a=document.querySelector("#projects"),r=document.querySelector(".list-container ol"),l=document.getElementById("details"),i=document.getElementById("task-editor"),m=document.getElementById("project-editor"),u=document.querySelector(".close-task-modal"),p=document.querySelector(".close-project-modal");function E(e){r.innerHTML="",e.getTasks().forEach((t=>{const n=document.createElement("li");n.innerText=t.name,n.addEventListener("click",(()=>{!function(e,t){const n=document.createElement("h2"),c=document.createElement("button"),s=document.querySelector(".details-inner");c.innerText="Ã—",c.classList.add("close-modal"),s.innerHTML="",n.innerText=`${t.name}`,s.appendChild(c),s.appendChild(n),c.addEventListener("click",(()=>{l.classList.remove("open")}));const d=document.createElement("p");d.setAttribute("id",`${e}`),d.innerHTML=`<strong>Project: </strong> ${e}`,s.appendChild(d);const o=Object.entries(t);for(let e=1;e<o.length;e++){const[t,n]=o[e],c=t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())),d=document.createElement("p");d.setAttribute("id",`${c}`),d.innerHTML=`<strong>${c}: </strong> ${n}`,s.appendChild(d)}}(e.name,t),l.classList.add("open")})),r.appendChild(n)}))}u.addEventListener("click",(e=>{e.preventDefault(),i.classList.remove("open")})),p.addEventListener("click",(e=>{e.preventDefault(),m.classList.remove("open")})),c.addEventListener("click",(()=>{m.classList.add("open")})),s.addEventListener("click",(()=>{i.classList.add("open")})),d.addEventListener("click",(e=>{!function(){const e=document.getElementById("task-name").value,c=document.getElementById("task-desc").value,s=document.getElementById("due-date").value,d=document.querySelector("input[name='priority']:checked").value,o=document.querySelector(".selected"),a=document.getElementsByName("task")[0];let r=k;o&&(r=n[o.getAttribute("project-id")]);const l=new t(e,c,s,d);r.addTask(l),o&&E(r),a.reset()}(),e.preventDefault(),i.classList.remove("open")})),o.addEventListener("click",(t=>{!function(){const t=document.querySelector("#project-name").value,c=document.getElementsByName("project")[0],s=new e(t),d=document.createElement("li");d.innerText=t,d.setAttribute("project-id",n.length),d.addEventListener("click",(()=>{const e=document.querySelector(".selected");e&&e.classList.remove("selected"),E(s),d.classList.add("selected")})),a.appendChild(d),n.push(s),c.reset()}(),t.preventDefault(),m.classList.remove("open")}));const k=new e("Default"),g=document.createElement("li");g.innerText="Default",g.setAttribute("project-id",n.length),n.push(k),g.addEventListener("click",(()=>{const e=document.querySelector(".selected");e&&e.classList.remove("selected"),E(k),g.classList.add("selected")})),a.appendChild(g);const h=new t("Example Todo","Description","2024-02-01","High"),L=new t("Example Todo1","Description","2024-02-02","High"),v=new t("Example Todo2","Description","2024-02-03","High"),y=new t("Example Todo3","Description","2024-02-04","High");k.addTask(h),k.addTask(L),k.addTask(v),k.addTask(y),console.log(n)})();